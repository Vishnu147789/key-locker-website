{% extends "base.html" %}
{% block content %}
<h2>Edit Key: {{ key.name }}</h2>
<form method="POST" action="{{ url_for('main.edit_key', key_name=key.name) }}">
  <div class="mb-3">
    <label for="key_value" class="form-label">Key Value</label>
    <textarea class="form-control" id="key_value" name="key_value" rows="4" required>{{ key.decrypted_value or '' }}</textarea>
  </div>
  <div class="mb-3">
    <label for="description" class="form-label">Description (Optional)</label>
    <textarea class="form-control" id="description" name="description" rows="3">{{ key.description or '' }}</textarea>
  </div>
  <div class="mb-3">
    <label for="category" class="form-label">Category (Optional)</label>
    <input type="text" class="form-control" id="category" name="category" value="{{ key.category or '' }}" />
  </div>
  <div class="mb-3">
    <label for="tags" class="form-label">Tags (Optional, comma separated)</label>
    <input type="text" class="form-control" id="tags" name="tags" value="{{ key.tags | join(', ') }}" />
  </div>
  <button type="submit" class="btn btn-primary">Save Changes</button>
  <a href="{{ url_for('main.dashboard') }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}
